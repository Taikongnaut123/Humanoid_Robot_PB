syntax = "proto3";

package interfaces;

// Import the base variant types
import "common/variant.proto";

// Common Request execute information
message ResultStatus {
  string code = 1;        // 错误代码
  string message = 2;     // 错误消息
  string details = 3;     // 详细信息
  int64 timestamp = 4;    // 错误发生时间戳
}

// Common parameter structure using Dictionary
message Params {
  base_types.Dictionary keyValueList = 1;  // 通用参数字典
}

// =============================================================================
// Unified Operations (gRPC supports both sync/async automatically)
// =============================================================================

// Send Request
message SendRequest {
  base_types.Dictionary input = 1;  // 创建请求数据
  base_types.Dictionary params = 2;                      // 附加参数
}

// Send Response
message SendResponse {
  base_types.Dictionary output = 1; // Action操作信息
  ResultStatus ret = 2;                    // 返回码
}

// Subscribe Request
message SubscribeRequest {
  base_types.Dictionary input = 1;  // 创建请求数据
  base_types.Dictionary params = 2;                      // 附加参数
}

// Subscribe Response
message SubscribeResponse {
  base_types.Dictionary output = 1; // Action操作信息
  ResultStatus ret = 2;                    // 返回码
}

// Unsubscribe Request
message UnsubscribeRequest {
  base_types.Dictionary input = 1;  // 创建请求数据
  base_types.Dictionary params = 2;                      // 附加参数
}

// Unsubscribe Response
message UnsubscribeResponse {
  base_types.Dictionary output = 1; // Action操作信息
  ResultStatus ret = 2;                    // 返回码
}

// Action Request
message ActionRequest {
  base_types.Dictionary input = 1; // Action操作信息
  base_types.Dictionary params = 2;                      // 附加参数
}

// Action Response
message ActionResponse {
  base_types.Dictionary output = 1; // Action操作信息
  ResultStatus ret = 2;                    // 返回码
}

// Query Request
message QueryRequest {
  base_types.Dictionary input = 1;  // 创建请求数据
  base_types.Dictionary params = 2;                      // 附加参数
}

// Query Response
message QueryResponse {
  base_types.Dictionary output = 1; // Action操作信息
  ResultStatus ret = 2;                    // 返回码
}
