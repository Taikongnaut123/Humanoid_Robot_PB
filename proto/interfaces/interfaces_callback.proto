syntax = "proto3";

package interfaces;

// Import the base variant types and request/response messages
import "common/variant.proto";
import "interfaces/interfaces_request_response.proto";

// =============================================================================
// Client Callback Service - Server主动调用Client的服务
// =============================================================================

service ClientCallbackService {
  // 服务端推送订阅消息给客户端
  rpc OnSubscriptionMessage(Notification) returns (NotificationAck);
}

// =============================================================================
// 回调消息定义
// =============================================================================

// 订阅消息通知
message Notification {
  base_types.Dictionary notifyMessage = 1;     // 元数据
}

// 订阅状态变化通知
message NotificationAck {
  int32 ret=1; // 返回码
}